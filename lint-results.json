[{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\.vercel\\output\\functions\\_global-error.rsc.func\\___next_launcher.cjs","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":11,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":11,"endColumn":48},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":46,"column":18,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":46,"endColumn":60}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use strict\";\n\n// src/vercel-request-context.ts\nvar SYMBOL_FOR_REQ_CONTEXT = Symbol.for(\"@vercel/request-context\");\nfunction getContext() {\n  const fromSymbol = globalThis;\n  return fromSymbol[SYMBOL_FOR_REQ_CONTEXT]?.get?.() ?? {};\n}\n\n// src/next-request-context.ts\nvar import_async_hooks = require(\"async_hooks\");\nvar name = \"@next/request-context\";\nvar NEXT_REQUEST_CONTEXT_SYMBOL = Symbol.for(name);\nvar INTERNAL_STORAGE_FIELD_SYMBOL = Symbol.for(\"internal.storage\");\nfunction getOrCreateContextSingleton() {\n  const _globalThis = globalThis;\n  if (!_globalThis[NEXT_REQUEST_CONTEXT_SYMBOL]) {\n    const storage = new import_async_hooks.AsyncLocalStorage();\n    const Context = {\n      get: () => storage.getStore(),\n      [INTERNAL_STORAGE_FIELD_SYMBOL]: storage\n    };\n    _globalThis[NEXT_REQUEST_CONTEXT_SYMBOL] = Context;\n  }\n  return _globalThis[NEXT_REQUEST_CONTEXT_SYMBOL];\n}\nvar NextRequestContext = getOrCreateContextSingleton();\nfunction withNextRequestContext(value, callback) {\n  const storage = NextRequestContext[INTERNAL_STORAGE_FIELD_SYMBOL];\n  return storage.run(value, callback);\n}\n\n// src/server-launcher.ts\nprocess.chdir(__dirname);\nvar region = process.env.VERCEL_REGION || process.env.NOW_REGION;\nif (!process.env.NODE_ENV) {\n  process.env.NODE_ENV = region === \"dev1\" ? \"development\" : \"production\";\n}\nif (process.env.NODE_ENV !== \"production\" && region !== \"dev1\") {\n  console.warn(\n    `Warning: NODE_ENV was incorrectly set to \"${process.env.NODE_ENV}\", this value is being overridden to \"production\"`\n  );\n  process.env.NODE_ENV = \"production\";\n}\nprocess.env.__NEXT_PRIVATE_PREBUNDLED_REACT = \"next\"\nvar NextServer = require(\"next/dist/server/next-server.js\").default;\n// @preserve next-server-preload-target\nconst conf = {\"env\":{},\"webpack\":null,\"typescript\":{\"ignoreBuildErrors\":false},\"typedRoutes\":false,\"distDir\":\".next\",\"cleanDistDir\":true,\"assetPrefix\":\"\",\"cacheMaxMemorySize\":52428800,\"configOrigin\":\"next.config.ts\",\"useFileSystemPublicRoutes\":true,\"generateEtags\":true,\"pageExtensions\":[\"tsx\",\"ts\",\"jsx\",\"js\"],\"poweredByHeader\":true,\"compress\":false,\"images\":{\"deviceSizes\":[640,750,828,1080,1200,1920,2048,3840],\"imageSizes\":[32,48,64,96,128,256,384],\"path\":\"/_next/image\",\"loader\":\"default\",\"loaderFile\":\"\",\"domains\":[],\"disableStaticImages\":false,\"minimumCacheTTL\":14400,\"formats\":[\"image/webp\"],\"maximumRedirects\":3,\"maximumResponseBody\":50000000,\"dangerouslyAllowLocalIP\":false,\"dangerouslyAllowSVG\":false,\"contentSecurityPolicy\":\"script-src 'none'; frame-src 'none'; sandbox;\",\"contentDispositionType\":\"attachment\",\"localPatterns\":[{\"pathname\":\"**\",\"search\":\"\"}],\"remotePatterns\":[],\"qualities\":[75],\"unoptimized\":false},\"devIndicators\":{\"position\":\"bottom-left\"},\"onDemandEntries\":{\"maxInactiveAge\":60000,\"pagesBufferLength\":5},\"basePath\":\"\",\"sassOptions\":{},\"trailingSlash\":false,\"i18n\":null,\"productionBrowserSourceMaps\":false,\"excludeDefaultMomentLocales\":true,\"reactProductionProfiling\":false,\"reactStrictMode\":null,\"reactMaxHeadersLength\":6000,\"httpAgentOptions\":{\"keepAlive\":true},\"logging\":{},\"compiler\":{},\"expireTime\":31536000,\"staticPageGenerationTimeout\":60,\"modularizeImports\":{\"@mui/icons-material\":{\"transform\":\"@mui/icons-material/{{member}}\"},\"lodash\":{\"transform\":\"lodash/{{member}}\"}},\"outputFileTracingRoot\":\"C:\\\\Users\\\\Maste\\\\.gemini\\\\antigravity\\\\scratch\\\\Habilidades de Agentes\\\\nook-storefront\",\"cacheComponents\":false,\"cacheLife\":{\"default\":{\"stale\":300,\"revalidate\":900,\"expire\":4294967294},\"seconds\":{\"stale\":30,\"revalidate\":1,\"expire\":60},\"minutes\":{\"stale\":300,\"revalidate\":60,\"expire\":3600},\"hours\":{\"stale\":300,\"revalidate\":3600,\"expire\":86400},\"days\":{\"stale\":300,\"revalidate\":86400,\"expire\":604800},\"weeks\":{\"stale\":300,\"revalidate\":604800,\"expire\":2592000},\"max\":{\"stale\":300,\"revalidate\":2592000,\"expire\":31536000}},\"cacheHandlers\":{},\"experimental\":{\"useSkewCookie\":false,\"cssChunking\":true,\"multiZoneDraftMode\":false,\"appNavFailHandling\":false,\"prerenderEarlyExit\":true,\"serverMinification\":true,\"linkNoTouchStart\":false,\"caseSensitiveRoutes\":false,\"dynamicOnHover\":false,\"preloadEntriesOnStart\":true,\"clientRouterFilter\":true,\"clientRouterFilterRedirects\":false,\"fetchCacheKeyPrefix\":\"\",\"proxyPrefetch\":\"flexible\",\"optimisticClientCache\":true,\"manualClientBasePath\":false,\"cpus\":15,\"memoryBasedWorkersCount\":false,\"imgOptConcurrency\":null,\"imgOptTimeoutInSeconds\":7,\"imgOptMaxInputPixels\":268402689,\"imgOptSequentialRead\":null,\"imgOptSkipMetadata\":null,\"isrFlushToDisk\":true,\"workerThreads\":false,\"optimizeCss\":false,\"nextScriptWorkers\":false,\"scrollRestoration\":false,\"externalDir\":false,\"disableOptimizedLoading\":false,\"gzipSize\":true,\"craCompat\":false,\"esmExternals\":true,\"fullySpecified\":false,\"swcTraceProfiling\":false,\"forceSwcTransforms\":false,\"largePageDataBytes\":128000,\"typedEnv\":false,\"parallelServerCompiles\":false,\"parallelServerBuildTraces\":false,\"ppr\":false,\"authInterrupts\":false,\"webpackMemoryOptimizations\":false,\"optimizeServerReact\":true,\"viewTransition\":false,\"removeUncaughtErrorAndRejectionListeners\":false,\"validateRSCRequestHeaders\":false,\"staleTimes\":{\"dynamic\":0,\"static\":300},\"reactDebugChannel\":false,\"serverComponentsHmrCache\":true,\"staticGenerationMaxConcurrency\":8,\"staticGenerationMinPagesPerWorker\":25,\"transitionIndicator\":false,\"inlineCss\":false,\"useCache\":false,\"globalNotFound\":false,\"browserDebugInfoInTerminal\":false,\"lockDistDir\":true,\"isolatedDevBuild\":true,\"proxyClientMaxBodySize\":10485760,\"hideLogsAfterAbort\":false,\"mcpServer\":true,\"turbopackFileSystemCacheForDev\":true,\"turbopackFileSystemCacheForBuild\":false,\"turbopackInferModuleSideEffects\":false,\"trustHostHeader\":true,\"optimizePackageImports\":[\"lucide-react\",\"date-fns\",\"lodash-es\",\"ramda\",\"antd\",\"react-bootstrap\",\"ahooks\",\"@ant-design/icons\",\"@headlessui/react\",\"@headlessui-float/react\",\"@heroicons/react/20/solid\",\"@heroicons/react/24/solid\",\"@heroicons/react/24/outline\",\"@visx/visx\",\"@tremor/react\",\"rxjs\",\"@mui/material\",\"@mui/icons-material\",\"recharts\",\"react-use\",\"effect\",\"@effect/schema\",\"@effect/platform\",\"@effect/platform-node\",\"@effect/platform-browser\",\"@effect/platform-bun\",\"@effect/sql\",\"@effect/sql-mssql\",\"@effect/sql-mysql2\",\"@effect/sql-pg\",\"@effect/sql-sqlite-node\",\"@effect/sql-sqlite-bun\",\"@effect/sql-sqlite-wasm\",\"@effect/sql-sqlite-react-native\",\"@effect/rpc\",\"@effect/rpc-http\",\"@effect/typeclass\",\"@effect/experimental\",\"@effect/opentelemetry\",\"@material-ui/core\",\"@material-ui/icons\",\"@tabler/icons-react\",\"mui-core\",\"react-icons/ai\",\"react-icons/bi\",\"react-icons/bs\",\"react-icons/cg\",\"react-icons/ci\",\"react-icons/di\",\"react-icons/fa\",\"react-icons/fa6\",\"react-icons/fc\",\"react-icons/fi\",\"react-icons/gi\",\"react-icons/go\",\"react-icons/gr\",\"react-icons/hi\",\"react-icons/hi2\",\"react-icons/im\",\"react-icons/io\",\"react-icons/io5\",\"react-icons/lia\",\"react-icons/lib\",\"react-icons/lu\",\"react-icons/md\",\"react-icons/pi\",\"react-icons/ri\",\"react-icons/rx\",\"react-icons/si\",\"react-icons/sl\",\"react-icons/tb\",\"react-icons/tfi\",\"react-icons/ti\",\"react-icons/vsc\",\"react-icons/wi\"],\"isExperimentalCompile\":false},\"htmlLimitedBots\":\"[\\\\w-]+-Google|Google-[\\\\w-]+|Chrome-Lighthouse|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti|googleweblight\",\"bundlePagesRouterDependencies\":false,\"configFileName\":\"next.config.ts\",\"turbopack\":{\"root\":\"C:\\\\Users\\\\Maste\\\\.gemini\\\\antigravity\\\\scratch\\\\Habilidades de Agentes\\\\nook-storefront\"},\"distDirRoot\":\".next\"};\nvar nextServer = new NextServer({\n  conf,\n  dir: \".\",\n  minimalMode: true,\n  customServer: false\n});\nvar serve = (handler) => async (req, res) => {\n  const vercelContext = getContext();\n  await withNextRequestContext({ waitUntil: vercelContext.waitUntil }, () => {\n    // @preserve entryDirectory handler\n    return handler(req, res);\n  });\n};\nmodule.exports = serve(nextServer.getRequestHandler());\nif ((conf.experimental?.ppr || conf.experimental?.cacheComponents) && \"getRequestHandlerWithMetadata\" in nextServer && typeof nextServer.getRequestHandlerWithMetadata === \"function\") {\n  module.exports.getRequestHandlerWithMetadata = (metadata) => serve(nextServer.getRequestHandlerWithMetadata(metadata));\n}\nif (process.env.NEXT_PRIVATE_PRELOAD_ENTRIES) {\n  module.exports.preload = nextServer.unstable_preloadEntries.bind(nextServer);\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\.vercel\\output\\functions\\api\\checkout.func\\___next_launcher.cjs","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":11,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":11,"endColumn":48},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":46,"column":18,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":46,"endColumn":60}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use strict\";\n\n// src/vercel-request-context.ts\nvar SYMBOL_FOR_REQ_CONTEXT = Symbol.for(\"@vercel/request-context\");\nfunction getContext() {\n  const fromSymbol = globalThis;\n  return fromSymbol[SYMBOL_FOR_REQ_CONTEXT]?.get?.() ?? {};\n}\n\n// src/next-request-context.ts\nvar import_async_hooks = require(\"async_hooks\");\nvar name = \"@next/request-context\";\nvar NEXT_REQUEST_CONTEXT_SYMBOL = Symbol.for(name);\nvar INTERNAL_STORAGE_FIELD_SYMBOL = Symbol.for(\"internal.storage\");\nfunction getOrCreateContextSingleton() {\n  const _globalThis = globalThis;\n  if (!_globalThis[NEXT_REQUEST_CONTEXT_SYMBOL]) {\n    const storage = new import_async_hooks.AsyncLocalStorage();\n    const Context = {\n      get: () => storage.getStore(),\n      [INTERNAL_STORAGE_FIELD_SYMBOL]: storage\n    };\n    _globalThis[NEXT_REQUEST_CONTEXT_SYMBOL] = Context;\n  }\n  return _globalThis[NEXT_REQUEST_CONTEXT_SYMBOL];\n}\nvar NextRequestContext = getOrCreateContextSingleton();\nfunction withNextRequestContext(value, callback) {\n  const storage = NextRequestContext[INTERNAL_STORAGE_FIELD_SYMBOL];\n  return storage.run(value, callback);\n}\n\n// src/server-launcher.ts\nprocess.chdir(__dirname);\nvar region = process.env.VERCEL_REGION || process.env.NOW_REGION;\nif (!process.env.NODE_ENV) {\n  process.env.NODE_ENV = region === \"dev1\" ? \"development\" : \"production\";\n}\nif (process.env.NODE_ENV !== \"production\" && region !== \"dev1\") {\n  console.warn(\n    `Warning: NODE_ENV was incorrectly set to \"${process.env.NODE_ENV}\", this value is being overridden to \"production\"`\n  );\n  process.env.NODE_ENV = \"production\";\n}\nprocess.env.__NEXT_PRIVATE_PREBUNDLED_REACT = \"next\"\nvar NextServer = require(\"next/dist/server/next-server.js\").default;\n// @preserve next-server-preload-target\nconst conf = {\"env\":{},\"webpack\":null,\"typescript\":{\"ignoreBuildErrors\":false},\"typedRoutes\":false,\"distDir\":\".next\",\"cleanDistDir\":true,\"assetPrefix\":\"\",\"cacheMaxMemorySize\":52428800,\"configOrigin\":\"next.config.ts\",\"useFileSystemPublicRoutes\":true,\"generateEtags\":true,\"pageExtensions\":[\"tsx\",\"ts\",\"jsx\",\"js\"],\"poweredByHeader\":true,\"compress\":false,\"images\":{\"deviceSizes\":[640,750,828,1080,1200,1920,2048,3840],\"imageSizes\":[32,48,64,96,128,256,384],\"path\":\"/_next/image\",\"loader\":\"default\",\"loaderFile\":\"\",\"domains\":[],\"disableStaticImages\":false,\"minimumCacheTTL\":14400,\"formats\":[\"image/webp\"],\"maximumRedirects\":3,\"maximumResponseBody\":50000000,\"dangerouslyAllowLocalIP\":false,\"dangerouslyAllowSVG\":false,\"contentSecurityPolicy\":\"script-src 'none'; frame-src 'none'; sandbox;\",\"contentDispositionType\":\"attachment\",\"localPatterns\":[{\"pathname\":\"**\",\"search\":\"\"}],\"remotePatterns\":[],\"qualities\":[75],\"unoptimized\":false},\"devIndicators\":{\"position\":\"bottom-left\"},\"onDemandEntries\":{\"maxInactiveAge\":60000,\"pagesBufferLength\":5},\"basePath\":\"\",\"sassOptions\":{},\"trailingSlash\":false,\"i18n\":null,\"productionBrowserSourceMaps\":false,\"excludeDefaultMomentLocales\":true,\"reactProductionProfiling\":false,\"reactStrictMode\":null,\"reactMaxHeadersLength\":6000,\"httpAgentOptions\":{\"keepAlive\":true},\"logging\":{},\"compiler\":{},\"expireTime\":31536000,\"staticPageGenerationTimeout\":60,\"modularizeImports\":{\"@mui/icons-material\":{\"transform\":\"@mui/icons-material/{{member}}\"},\"lodash\":{\"transform\":\"lodash/{{member}}\"}},\"outputFileTracingRoot\":\"C:\\\\Users\\\\Maste\\\\.gemini\\\\antigravity\\\\scratch\\\\Habilidades de Agentes\\\\nook-storefront\",\"cacheComponents\":false,\"cacheLife\":{\"default\":{\"stale\":300,\"revalidate\":900,\"expire\":4294967294},\"seconds\":{\"stale\":30,\"revalidate\":1,\"expire\":60},\"minutes\":{\"stale\":300,\"revalidate\":60,\"expire\":3600},\"hours\":{\"stale\":300,\"revalidate\":3600,\"expire\":86400},\"days\":{\"stale\":300,\"revalidate\":86400,\"expire\":604800},\"weeks\":{\"stale\":300,\"revalidate\":604800,\"expire\":2592000},\"max\":{\"stale\":300,\"revalidate\":2592000,\"expire\":31536000}},\"cacheHandlers\":{},\"experimental\":{\"useSkewCookie\":false,\"cssChunking\":true,\"multiZoneDraftMode\":false,\"appNavFailHandling\":false,\"prerenderEarlyExit\":true,\"serverMinification\":true,\"linkNoTouchStart\":false,\"caseSensitiveRoutes\":false,\"dynamicOnHover\":false,\"preloadEntriesOnStart\":true,\"clientRouterFilter\":true,\"clientRouterFilterRedirects\":false,\"fetchCacheKeyPrefix\":\"\",\"proxyPrefetch\":\"flexible\",\"optimisticClientCache\":true,\"manualClientBasePath\":false,\"cpus\":15,\"memoryBasedWorkersCount\":false,\"imgOptConcurrency\":null,\"imgOptTimeoutInSeconds\":7,\"imgOptMaxInputPixels\":268402689,\"imgOptSequentialRead\":null,\"imgOptSkipMetadata\":null,\"isrFlushToDisk\":true,\"workerThreads\":false,\"optimizeCss\":false,\"nextScriptWorkers\":false,\"scrollRestoration\":false,\"externalDir\":false,\"disableOptimizedLoading\":false,\"gzipSize\":true,\"craCompat\":false,\"esmExternals\":true,\"fullySpecified\":false,\"swcTraceProfiling\":false,\"forceSwcTransforms\":false,\"largePageDataBytes\":128000,\"typedEnv\":false,\"parallelServerCompiles\":false,\"parallelServerBuildTraces\":false,\"ppr\":false,\"authInterrupts\":false,\"webpackMemoryOptimizations\":false,\"optimizeServerReact\":true,\"viewTransition\":false,\"removeUncaughtErrorAndRejectionListeners\":false,\"validateRSCRequestHeaders\":false,\"staleTimes\":{\"dynamic\":0,\"static\":300},\"reactDebugChannel\":false,\"serverComponentsHmrCache\":true,\"staticGenerationMaxConcurrency\":8,\"staticGenerationMinPagesPerWorker\":25,\"transitionIndicator\":false,\"inlineCss\":false,\"useCache\":false,\"globalNotFound\":false,\"browserDebugInfoInTerminal\":false,\"lockDistDir\":true,\"isolatedDevBuild\":true,\"proxyClientMaxBodySize\":10485760,\"hideLogsAfterAbort\":false,\"mcpServer\":true,\"turbopackFileSystemCacheForDev\":true,\"turbopackFileSystemCacheForBuild\":false,\"turbopackInferModuleSideEffects\":false,\"trustHostHeader\":true,\"optimizePackageImports\":[\"lucide-react\",\"date-fns\",\"lodash-es\",\"ramda\",\"antd\",\"react-bootstrap\",\"ahooks\",\"@ant-design/icons\",\"@headlessui/react\",\"@headlessui-float/react\",\"@heroicons/react/20/solid\",\"@heroicons/react/24/solid\",\"@heroicons/react/24/outline\",\"@visx/visx\",\"@tremor/react\",\"rxjs\",\"@mui/material\",\"@mui/icons-material\",\"recharts\",\"react-use\",\"effect\",\"@effect/schema\",\"@effect/platform\",\"@effect/platform-node\",\"@effect/platform-browser\",\"@effect/platform-bun\",\"@effect/sql\",\"@effect/sql-mssql\",\"@effect/sql-mysql2\",\"@effect/sql-pg\",\"@effect/sql-sqlite-node\",\"@effect/sql-sqlite-bun\",\"@effect/sql-sqlite-wasm\",\"@effect/sql-sqlite-react-native\",\"@effect/rpc\",\"@effect/rpc-http\",\"@effect/typeclass\",\"@effect/experimental\",\"@effect/opentelemetry\",\"@material-ui/core\",\"@material-ui/icons\",\"@tabler/icons-react\",\"mui-core\",\"react-icons/ai\",\"react-icons/bi\",\"react-icons/bs\",\"react-icons/cg\",\"react-icons/ci\",\"react-icons/di\",\"react-icons/fa\",\"react-icons/fa6\",\"react-icons/fc\",\"react-icons/fi\",\"react-icons/gi\",\"react-icons/go\",\"react-icons/gr\",\"react-icons/hi\",\"react-icons/hi2\",\"react-icons/im\",\"react-icons/io\",\"react-icons/io5\",\"react-icons/lia\",\"react-icons/lib\",\"react-icons/lu\",\"react-icons/md\",\"react-icons/pi\",\"react-icons/ri\",\"react-icons/rx\",\"react-icons/si\",\"react-icons/sl\",\"react-icons/tb\",\"react-icons/tfi\",\"react-icons/ti\",\"react-icons/vsc\",\"react-icons/wi\"],\"isExperimentalCompile\":false},\"htmlLimitedBots\":\"[\\\\w-]+-Google|Google-[\\\\w-]+|Chrome-Lighthouse|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti|googleweblight\",\"bundlePagesRouterDependencies\":false,\"configFileName\":\"next.config.ts\",\"turbopack\":{\"root\":\"C:\\\\Users\\\\Maste\\\\.gemini\\\\antigravity\\\\scratch\\\\Habilidades de Agentes\\\\nook-storefront\"},\"distDirRoot\":\".next\"};\nvar nextServer = new NextServer({\n  conf,\n  dir: \".\",\n  minimalMode: true,\n  customServer: false\n});\nvar serve = (handler) => async (req, res) => {\n  const vercelContext = getContext();\n  await withNextRequestContext({ waitUntil: vercelContext.waitUntil }, () => {\n    // @preserve entryDirectory handler\n    return handler(req, res);\n  });\n};\nmodule.exports = serve(nextServer.getRequestHandler());\nif ((conf.experimental?.ppr || conf.experimental?.cacheComponents) && \"getRequestHandlerWithMetadata\" in nextServer && typeof nextServer.getRequestHandlerWithMetadata === \"function\") {\n  module.exports.getRequestHandlerWithMetadata = (metadata) => serve(nextServer.getRequestHandlerWithMetadata(metadata));\n}\nif (process.env.NEXT_PRIVATE_PRELOAD_ENTRIES) {\n  module.exports.preload = nextServer.unstable_preloadEntries.bind(nextServer);\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\.vercel\\output\\functions\\producto\\[slug].func\\___next_launcher.cjs","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":11,"column":26,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":11,"endColumn":48},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":46,"column":18,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":46,"endColumn":60}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use strict\";\n\n// src/vercel-request-context.ts\nvar SYMBOL_FOR_REQ_CONTEXT = Symbol.for(\"@vercel/request-context\");\nfunction getContext() {\n  const fromSymbol = globalThis;\n  return fromSymbol[SYMBOL_FOR_REQ_CONTEXT]?.get?.() ?? {};\n}\n\n// src/next-request-context.ts\nvar import_async_hooks = require(\"async_hooks\");\nvar name = \"@next/request-context\";\nvar NEXT_REQUEST_CONTEXT_SYMBOL = Symbol.for(name);\nvar INTERNAL_STORAGE_FIELD_SYMBOL = Symbol.for(\"internal.storage\");\nfunction getOrCreateContextSingleton() {\n  const _globalThis = globalThis;\n  if (!_globalThis[NEXT_REQUEST_CONTEXT_SYMBOL]) {\n    const storage = new import_async_hooks.AsyncLocalStorage();\n    const Context = {\n      get: () => storage.getStore(),\n      [INTERNAL_STORAGE_FIELD_SYMBOL]: storage\n    };\n    _globalThis[NEXT_REQUEST_CONTEXT_SYMBOL] = Context;\n  }\n  return _globalThis[NEXT_REQUEST_CONTEXT_SYMBOL];\n}\nvar NextRequestContext = getOrCreateContextSingleton();\nfunction withNextRequestContext(value, callback) {\n  const storage = NextRequestContext[INTERNAL_STORAGE_FIELD_SYMBOL];\n  return storage.run(value, callback);\n}\n\n// src/server-launcher.ts\nprocess.chdir(__dirname);\nvar region = process.env.VERCEL_REGION || process.env.NOW_REGION;\nif (!process.env.NODE_ENV) {\n  process.env.NODE_ENV = region === \"dev1\" ? \"development\" : \"production\";\n}\nif (process.env.NODE_ENV !== \"production\" && region !== \"dev1\") {\n  console.warn(\n    `Warning: NODE_ENV was incorrectly set to \"${process.env.NODE_ENV}\", this value is being overridden to \"production\"`\n  );\n  process.env.NODE_ENV = \"production\";\n}\nprocess.env.__NEXT_PRIVATE_PREBUNDLED_REACT = \"next\"\nvar NextServer = require(\"next/dist/server/next-server.js\").default;\n// @preserve next-server-preload-target\nconst conf = {\"env\":{},\"webpack\":null,\"typescript\":{\"ignoreBuildErrors\":false},\"typedRoutes\":false,\"distDir\":\".next\",\"cleanDistDir\":true,\"assetPrefix\":\"\",\"cacheMaxMemorySize\":52428800,\"configOrigin\":\"next.config.ts\",\"useFileSystemPublicRoutes\":true,\"generateEtags\":true,\"pageExtensions\":[\"tsx\",\"ts\",\"jsx\",\"js\"],\"poweredByHeader\":true,\"compress\":false,\"images\":{\"deviceSizes\":[640,750,828,1080,1200,1920,2048,3840],\"imageSizes\":[32,48,64,96,128,256,384],\"path\":\"/_next/image\",\"loader\":\"default\",\"loaderFile\":\"\",\"domains\":[],\"disableStaticImages\":false,\"minimumCacheTTL\":14400,\"formats\":[\"image/webp\"],\"maximumRedirects\":3,\"maximumResponseBody\":50000000,\"dangerouslyAllowLocalIP\":false,\"dangerouslyAllowSVG\":false,\"contentSecurityPolicy\":\"script-src 'none'; frame-src 'none'; sandbox;\",\"contentDispositionType\":\"attachment\",\"localPatterns\":[{\"pathname\":\"**\",\"search\":\"\"}],\"remotePatterns\":[],\"qualities\":[75],\"unoptimized\":false},\"devIndicators\":{\"position\":\"bottom-left\"},\"onDemandEntries\":{\"maxInactiveAge\":60000,\"pagesBufferLength\":5},\"basePath\":\"\",\"sassOptions\":{},\"trailingSlash\":false,\"i18n\":null,\"productionBrowserSourceMaps\":false,\"excludeDefaultMomentLocales\":true,\"reactProductionProfiling\":false,\"reactStrictMode\":null,\"reactMaxHeadersLength\":6000,\"httpAgentOptions\":{\"keepAlive\":true},\"logging\":{},\"compiler\":{},\"expireTime\":31536000,\"staticPageGenerationTimeout\":60,\"modularizeImports\":{\"@mui/icons-material\":{\"transform\":\"@mui/icons-material/{{member}}\"},\"lodash\":{\"transform\":\"lodash/{{member}}\"}},\"outputFileTracingRoot\":\"C:\\\\Users\\\\Maste\\\\.gemini\\\\antigravity\\\\scratch\\\\Habilidades de Agentes\\\\nook-storefront\",\"cacheComponents\":false,\"cacheLife\":{\"default\":{\"stale\":300,\"revalidate\":900,\"expire\":4294967294},\"seconds\":{\"stale\":30,\"revalidate\":1,\"expire\":60},\"minutes\":{\"stale\":300,\"revalidate\":60,\"expire\":3600},\"hours\":{\"stale\":300,\"revalidate\":3600,\"expire\":86400},\"days\":{\"stale\":300,\"revalidate\":86400,\"expire\":604800},\"weeks\":{\"stale\":300,\"revalidate\":604800,\"expire\":2592000},\"max\":{\"stale\":300,\"revalidate\":2592000,\"expire\":31536000}},\"cacheHandlers\":{},\"experimental\":{\"useSkewCookie\":false,\"cssChunking\":true,\"multiZoneDraftMode\":false,\"appNavFailHandling\":false,\"prerenderEarlyExit\":true,\"serverMinification\":true,\"linkNoTouchStart\":false,\"caseSensitiveRoutes\":false,\"dynamicOnHover\":false,\"preloadEntriesOnStart\":true,\"clientRouterFilter\":true,\"clientRouterFilterRedirects\":false,\"fetchCacheKeyPrefix\":\"\",\"proxyPrefetch\":\"flexible\",\"optimisticClientCache\":true,\"manualClientBasePath\":false,\"cpus\":15,\"memoryBasedWorkersCount\":false,\"imgOptConcurrency\":null,\"imgOptTimeoutInSeconds\":7,\"imgOptMaxInputPixels\":268402689,\"imgOptSequentialRead\":null,\"imgOptSkipMetadata\":null,\"isrFlushToDisk\":true,\"workerThreads\":false,\"optimizeCss\":false,\"nextScriptWorkers\":false,\"scrollRestoration\":false,\"externalDir\":false,\"disableOptimizedLoading\":false,\"gzipSize\":true,\"craCompat\":false,\"esmExternals\":true,\"fullySpecified\":false,\"swcTraceProfiling\":false,\"forceSwcTransforms\":false,\"largePageDataBytes\":128000,\"typedEnv\":false,\"parallelServerCompiles\":false,\"parallelServerBuildTraces\":false,\"ppr\":false,\"authInterrupts\":false,\"webpackMemoryOptimizations\":false,\"optimizeServerReact\":true,\"viewTransition\":false,\"removeUncaughtErrorAndRejectionListeners\":false,\"validateRSCRequestHeaders\":false,\"staleTimes\":{\"dynamic\":0,\"static\":300},\"reactDebugChannel\":false,\"serverComponentsHmrCache\":true,\"staticGenerationMaxConcurrency\":8,\"staticGenerationMinPagesPerWorker\":25,\"transitionIndicator\":false,\"inlineCss\":false,\"useCache\":false,\"globalNotFound\":false,\"browserDebugInfoInTerminal\":false,\"lockDistDir\":true,\"isolatedDevBuild\":true,\"proxyClientMaxBodySize\":10485760,\"hideLogsAfterAbort\":false,\"mcpServer\":true,\"turbopackFileSystemCacheForDev\":true,\"turbopackFileSystemCacheForBuild\":false,\"turbopackInferModuleSideEffects\":false,\"trustHostHeader\":true,\"optimizePackageImports\":[\"lucide-react\",\"date-fns\",\"lodash-es\",\"ramda\",\"antd\",\"react-bootstrap\",\"ahooks\",\"@ant-design/icons\",\"@headlessui/react\",\"@headlessui-float/react\",\"@heroicons/react/20/solid\",\"@heroicons/react/24/solid\",\"@heroicons/react/24/outline\",\"@visx/visx\",\"@tremor/react\",\"rxjs\",\"@mui/material\",\"@mui/icons-material\",\"recharts\",\"react-use\",\"effect\",\"@effect/schema\",\"@effect/platform\",\"@effect/platform-node\",\"@effect/platform-browser\",\"@effect/platform-bun\",\"@effect/sql\",\"@effect/sql-mssql\",\"@effect/sql-mysql2\",\"@effect/sql-pg\",\"@effect/sql-sqlite-node\",\"@effect/sql-sqlite-bun\",\"@effect/sql-sqlite-wasm\",\"@effect/sql-sqlite-react-native\",\"@effect/rpc\",\"@effect/rpc-http\",\"@effect/typeclass\",\"@effect/experimental\",\"@effect/opentelemetry\",\"@material-ui/core\",\"@material-ui/icons\",\"@tabler/icons-react\",\"mui-core\",\"react-icons/ai\",\"react-icons/bi\",\"react-icons/bs\",\"react-icons/cg\",\"react-icons/ci\",\"react-icons/di\",\"react-icons/fa\",\"react-icons/fa6\",\"react-icons/fc\",\"react-icons/fi\",\"react-icons/gi\",\"react-icons/go\",\"react-icons/gr\",\"react-icons/hi\",\"react-icons/hi2\",\"react-icons/im\",\"react-icons/io\",\"react-icons/io5\",\"react-icons/lia\",\"react-icons/lib\",\"react-icons/lu\",\"react-icons/md\",\"react-icons/pi\",\"react-icons/ri\",\"react-icons/rx\",\"react-icons/si\",\"react-icons/sl\",\"react-icons/tb\",\"react-icons/tfi\",\"react-icons/ti\",\"react-icons/vsc\",\"react-icons/wi\"],\"isExperimentalCompile\":false},\"htmlLimitedBots\":\"[\\\\w-]+-Google|Google-[\\\\w-]+|Chrome-Lighthouse|Slurp|DuckDuckBot|baiduspider|yandex|sogou|bitlybot|tumblr|vkShare|quora link preview|redditbot|ia_archiver|Bingbot|BingPreview|applebot|facebookexternalhit|facebookcatalog|Twitterbot|LinkedInBot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|Yeti|googleweblight\",\"bundlePagesRouterDependencies\":false,\"configFileName\":\"next.config.ts\",\"turbopack\":{\"root\":\"C:\\\\Users\\\\Maste\\\\.gemini\\\\antigravity\\\\scratch\\\\Habilidades de Agentes\\\\nook-storefront\"},\"distDirRoot\":\".next\"};\nvar nextServer = new NextServer({\n  conf,\n  dir: \".\",\n  minimalMode: true,\n  customServer: false\n});\nvar serve = (handler) => async (req, res) => {\n  const vercelContext = getContext();\n  await withNextRequestContext({ waitUntil: vercelContext.waitUntil }, () => {\n    // @preserve entryDirectory handler\n    return handler(req, res);\n  });\n};\nmodule.exports = serve(nextServer.getRequestHandler());\nif ((conf.experimental?.ppr || conf.experimental?.cacheComponents) && \"getRequestHandlerWithMetadata\" in nextServer && typeof nextServer.getRequestHandlerWithMetadata === \"function\") {\n  module.exports.getRequestHandlerWithMetadata = (metadata) => serve(nextServer.getRequestHandlerWithMetadata(metadata));\n}\nif (process.env.NEXT_PRIVATE_PRELOAD_ENTRIES) {\n  module.exports.preload = nextServer.unstable_preloadEntries.bind(nextServer);\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\download_stitch.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\scripts\\generate_demo_products.js","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":1,"column":28,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":1,"endColumn":72},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":2,"column":16,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":2,"endColumn":33},{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":3,"column":14,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":3,"endColumn":29}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"const WooCommerceRestApi = require(\"@woocommerce/woocommerce-rest-api\").default;\r\nconst dotenv = require(\"dotenv\");\r\nconst path = require(\"path\");\r\n\r\n// Load .env.local\r\ndotenv.config({ path: path.resolve(process.cwd(), \".env.local\") });\r\n\r\nconst api = new WooCommerceRestApi({\r\n    url: process.env.NEXT_PUBLIC_WC_URL,\r\n    consumerKey: process.env.WC_CONSUMER_KEY,\r\n    consumerSecret: process.env.WC_CONSUMER_SECRET,\r\n    version: \"wc/v3\",\r\n    queryStringAuth: true\r\n});\r\n\r\nconst categories = {\r\n    tes: 94,\r\n    infusiones: 110,\r\n    accesorios: 79\r\n};\r\n\r\nconst products = [\r\n    // TÉS (94)\r\n    { name: \"Té Matcha Ceremonial A+\", category: \"tes\", price: \"24.90\", image: \"https://images.unsplash.com/photo-1582793988951-9aed55099991?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Senzha Green Tea\", category: \"tes\", price: \"14.50\", image: \"https://images.unsplash.com/photo-1627435601361-ec25f5b1d0e5?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Earl Grey Imperial\", category: \"tes\", price: \"12.80\", image: \"https://images.unsplash.com/photo-1594631252845-29fc458695d6?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"White Peony (Bai Mu Dan)\", category: \"tes\", price: \"18.20\", image: \"https://images.unsplash.com/photo-1544787210-22bc3905c1e0?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Jasmin Dragon Pearls\", category: \"tes\", price: \"22.00\", image: \"https://images.unsplash.com/photo-1626071465942-eafbe734208a?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Oolong Tie Guan Yin\", category: \"tes\", price: \"19.50\", image: \"https://images.unsplash.com/photo-1576092768241-dec231b80216?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Pu-erh Vintage 2018\", category: \"tes\", price: \"28.00\", image: \"https://images.unsplash.com/photo-1515696955266-4f67e13219e8?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Genmaicha Popcorn\", category: \"tes\", price: \"13.90\", image: \"https://images.unsplash.com/photo-1564890369478-c89ca6d9cde9?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Assam TGFOP1\", category: \"tes\", price: \"11.50\", image: \"https://images.unsplash.com/photo-1597318181409-cf64d0b5d8a2?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Lapsang Souchong (Smoked)\", category: \"tes\", price: \"15.00\", image: \"https://images.unsplash.com/photo-1594631252845-29fc458695d6?auto=format&fit=crop&q=80&w=800\" },\r\n\r\n    // INFUSIONES (110)\r\n    { name: \"Rooibos Vainilla Bourbon\", category: \"infusiones\", price: \"10.90\", image: \"https://images.unsplash.com/photo-1515696955266-4f67e13219e8?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Manzanilla Silvestre\", category: \"infusiones\", price: \"8.50\", image: \"https://images.unsplash.com/photo-1606051512423-f38fca64379a?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Menta Piperita Intensa\", category: \"infusiones\", price: \"9.20\", image: \"https://images.unsplash.com/photo-1558160074-4d7d8bdf4256?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Brisa Mediterránea (Hierbas)\", category: \"infusiones\", price: \"11.00\", image: \"https://images.unsplash.com/photo-1523906630133-f1c8411bc2f0?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Detox Jengibre & Limón\", category: \"infusiones\", price: \"12.50\", image: \"https://images.unsplash.com/photo-1610832958506-aa56368176cf?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Sueño Profundo (Lavanda)\", category: \"infusiones\", price: \"13.80\", image: \"https://images.unsplash.com/photo-1499245105200-a633364f3c05?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Hibiscus & Frutos Rojos\", category: \"infusiones\", price: \"10.50\", image: \"https://images.unsplash.com/photo-1546270634-118fbc780337?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Chai Spices (Sin Teína)\", category: \"infusiones\", price: \"14.00\", image: \"https://images.unsplash.com/photo-1544480544-fc02a969b4e5?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Poleo Mentha Ritual\", category: \"infusiones\", price: \"9.00\", image: \"https://images.unsplash.com/photo-1558160074-4d7d8bdf4256?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Tila Alpina Premium\", category: \"infusiones\", price: \"11.20\", image: \"https://images.unsplash.com/photo-1606051512423-f38fca64379a?auto=format&fit=crop&q=80&w=800\" },\r\n\r\n    // ACCESORIOS (79)\r\n    { name: \"Tetera de Hierro Tetsubin\", category: \"accesorios\", price: \"65.00\", image: \"https://images.unsplash.com/photo-1576092768241-dec231b80216?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Cuenco Matcha Chawan\", category: \"accesorios\", price: \"32.00\", image: \"https://images.unsplash.com/photo-1582793988951-9aed55099991?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Batidor de Bambú Chasen\", category: \"accesorios\", price: \"18.50\", image: \"https://images.unsplash.com/photo-1594631252845-29fc458695d6?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Cuchara Medidora Oro Rosa\", category: \"accesorios\", price: \"9.90\", image: \"https://images.unsplash.com/photo-1594212699903-ec8a3eea50f5?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Infusor de Cristal Zen\", category: \"accesorios\", price: \"15.00\", image: \"https://images.unsplash.com/photo-1556679343-c7306c1976bc?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Set de Degustación Porcelana\", category: \"accesorios\", price: \"45.00\", image: \"https://images.unsplash.com/photo-1517142089942-ba376ce32a2e?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Bote de Latón Hermético\", category: \"accesorios\", price: \"14.20\", image: \"https://images.unsplash.com/photo-1584483766114-2cea6facdf57?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Termómetro Digital Precision\", category: \"accesorios\", price: \"22.50\", image: \"https://images.unsplash.com/photo-1587049352847-81a56d773cae?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Bandeja de Bambú Tallada\", category: \"accesorios\", price: \"29.00\", image: \"https://images.unsplash.com/photo-1563245372-f21724e3993d?auto=format&fit=crop&q=80&w=800\" },\r\n    { name: \"Filtro de Tela Tradicional\", category: \"accesorios\", price: \"5.50\", image: \"https://images.unsplash.com/photo-1544787210-22bc3905c1e0?auto=format&fit=crop&q=80&w=800\" }\r\n];\r\n\r\nasync function createProducts() {\r\n    console.log(`Starting generation of ${products.length} products...`);\r\n\r\n    for (const p of products) {\r\n        const data = {\r\n            name: p.name,\r\n            type: \"simple\",\r\n            regular_price: p.price,\r\n            description: `Descubre la esencia de ${p.name}. Una selección exclusiva de Nook Specialty para elevar tus rituales diarios.`,\r\n            short_description: `Producto premium de la colección ${p.category}.`,\r\n            categories: [\r\n                { id: categories[p.category] }\r\n            ],\r\n            status: \"publish\"\r\n        };\r\n\r\n        try {\r\n            const response = await api.post(\"products\", data);\r\n            console.log(`✅ Created: ${response.data.name} (ID: ${response.data.id})`);\r\n        } catch (error) {\r\n            console.error(`❌ Error creating ${p.name}:`, error.response ? error.response.data : error.message);\r\n        }\r\n    }\r\n\r\n    console.log(\"Done!\");\r\n}\r\n\r\ncreateProducts();\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\scripts\\setup_blog_posts.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\scripts\\setup_categories.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\app\\api\\checkout\\route.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[273,276],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[273,276],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\app\\api\\debug-woo\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1002,1005],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1002,1005],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1073,1076],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1073,1076],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { fetchProducts, fetchCategories } from \"@/lib/woo\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport async function GET() {\r\n    try {\r\n        const urlRaw = process.env.NEXT_PUBLIC_WC_URL || \"\";\r\n        const urlTrimmed = urlRaw.trim();\r\n\r\n        const products = await fetchProducts();\r\n        const categories = await fetchCategories();\r\n\r\n        return NextResponse.json({\r\n            status: \"ok\",\r\n            inspection: {\r\n                raw_url: urlRaw,\r\n                raw_url_len: urlRaw.length,\r\n                raw_url_hex: urlRaw.split('').map(c => c.charCodeAt(0).toString(16)).join(' '),\r\n                trimmed_url: urlTrimmed,\r\n                trimmed_url_len: urlTrimmed.length\r\n            },\r\n            counts: {\r\n                products: products?.length || 0,\r\n                categories: categories?.length || 0\r\n            },\r\n            samples: {\r\n                products: products?.slice(0, 5).map((p: any) => p.name) || []\r\n            }\r\n        });\r\n    } catch (error: any) {\r\n        return NextResponse.json({\r\n            status: \"error\",\r\n            message: error.message,\r\n            stack: error.stack\r\n        }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\app\\blog\\[slug]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":10,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[419,422],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[419,422],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":89,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4460,4544],"text":"\r\n                        &quot;La belleza de las cosas sencillas.\"\r\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4460,4544],"text":"\r\n                        &ldquo;La belleza de las cosas sencillas.\"\r\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4460,4544],"text":"\r\n                        &#34;La belleza de las cosas sencillas.\"\r\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4460,4544],"text":"\r\n                        &rdquo;La belleza de las cosas sencillas.\"\r\n                    "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":89,"column":60,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[4460,4544],"text":"\r\n                        \"La belleza de las cosas sencillas.&quot;\r\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[4460,4544],"text":"\r\n                        \"La belleza de las cosas sencillas.&ldquo;\r\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[4460,4544],"text":"\r\n                        \"La belleza de las cosas sencillas.&#34;\r\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[4460,4544],"text":"\r\n                        \"La belleza de las cosas sencillas.&rdquo;\r\n                    "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { fetchPostBySlug, fetchPosts } from \"@/lib/wp\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { notFound } from \"next/navigation\";\r\n\r\n// SSG: Generar las rutas de los artículos en tiempo de construcción (o primer acceso)\r\nexport async function generateStaticParams() {\r\n    const posts = await fetchPosts();\r\n    // Retornamos el array de params para next\r\n    return posts.map((post: any) => ({\r\n        slug: post.slug,\r\n    }));\r\n}\r\n\r\nexport const revalidate = 60;\r\n\r\nexport default async function BlogPostPage({ params }: { params: { slug: string } }) {\r\n    const post = await fetchPostBySlug(params.slug);\r\n\r\n    if (!post) {\r\n        notFound();\r\n    }\r\n\r\n    const featuredMedia = post._embedded?.['wp:featuredmedia']?.[0];\r\n    let imageUrl = featuredMedia?.source_url;\r\n\r\n    if (!imageUrl) {\r\n        const title = post.title.rendered.toLowerCase();\r\n        if (title.includes(\"matcha\")) imageUrl = \"https://images.unsplash.com/photo-1582793988951-9aed5509eb97?auto=format&fit=crop&q=80&w=1200\";\r\n        else if (title.includes(\"temperatura\") || title.includes(\"preparación\")) imageUrl = \"https://images.unsplash.com/photo-1556679343-c7306c1976bc?auto=format&fit=crop&q=80&w=1200\";\r\n        else if (title.includes(\"terroir\") || title.includes(\"origen\")) imageUrl = \"https://images.unsplash.com/photo-1597481499750-3e6b22637e12?auto=format&fit=crop&q=80&w=1200\";\r\n        else imageUrl = \"https://images.unsplash.com/photo-1544787210-2213d84ad96b?auto=format&fit=crop&q=80&w=1200\";\r\n    }\r\n\r\n    // Formato fecha\r\n    const date = new Date(post.date).toLocaleDateString(\"es-ES\", {\r\n        year: \"numeric\",\r\n        month: \"long\",\r\n        day: \"numeric\",\r\n    });\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-zen-light pt-32 pb-24\">\r\n\r\n            <article className=\"max-w-3xl mx-auto px-6\">\r\n\r\n                {/* Header del Artículo */}\r\n                <header className=\"mb-12 text-center\">\r\n                    <p className=\"text-zen-sage uppercase tracking-widest text-[10px] font-semibold mb-6\">\r\n                        {date} — Nook Journal\r\n                    </p>\r\n                    <h1\r\n                        className=\"font-serif text-3xl md:text-5xl lg:text-6xl text-zen-dark leading-[1.1] mb-8\"\r\n                        dangerouslySetInnerHTML={{ __html: post.title.rendered }}\r\n                    />\r\n                </header>\r\n\r\n                {/* Imagen Destacada Ancha */}\r\n                {imageUrl && (\r\n                    <div className=\"w-full relative aspect-[16/9] md:aspect-[21/9] rounded-md overflow-hidden mb-16 shadow-sm border border-zen-sage/10\">\r\n                        <Image\r\n                            src={imageUrl}\r\n                            alt={post.title.rendered}\r\n                            fill\r\n                            className=\"object-cover\"\r\n                            priority\r\n                        />\r\n                    </div>\r\n                )}\r\n\r\n                {/* Contenido HTML de WordPress con CSS nativo de Tailwind */}\r\n                <div\r\n                    className=\"max-w-2xl mx-auto\r\n                               [&>h1]:font-serif [&>h1]:text-3xl [&>h1]:text-zen-dark [&>h1]:mb-6\r\n                               [&>h2]:font-serif [&>h2]:text-2xl [&>h2]:text-zen-dark [&>h2]:mb-4 [&>h2]:mt-8\r\n                               [&>h3]:font-serif [&>h3]:text-xl [&>h3]:text-zen-dark [&>h3]:mb-4 [&>h3]:mt-6\r\n                               [&>p]:font-sans [&>p]:text-zen-dark/80 [&>p]:leading-relaxed [&>p]:mb-6\r\n                               [&>ul]:list-disc [&>ul]:pl-6 [&>ul]:mb-6 [&>ul>li]:mb-2 [&>ul>li]:text-zen-dark/80\r\n                               [&>ol]:list-decimal [&>ol]:pl-6 [&>ol]:mb-6 [&>ol>li]:mb-2 [&>ol>li]:text-zen-dark/80\r\n                               [&>a]:text-zen-primary [&>a]:underline [&>a]:underline-offset-4 hover:[&>a]:text-zen-dark\r\n                               [&>strong]:text-zen-dark [&>strong]:font-semibold\r\n                               [&>img]:rounded-md [&>img]:shadow-sm [&>img]:my-8 [&>img]:w-full [&>img]:object-cover\"\r\n                    dangerouslySetInnerHTML={{ __html: post.content.rendered }}\r\n                />\r\n\r\n                {/* Footer del Artículo */}\r\n                <footer className=\"mt-20 pt-10 border-t border-zen-sage/20 text-center flex flex-col items-center\">\r\n                    <p className=\"text-sm font-sans text-zen-sage mb-6 italic\">\r\n                        \"La belleza de las cosas sencillas.\"\r\n                    </p>\r\n                    <Link href=\"/blog\" className=\"inline-block border border-zen-dark text-zen-dark px-8 py-3 text-xs uppercase tracking-widest font-semibold hover:bg-zen-dark hover:text-white transition-colors\">\r\n                        Volver al Journal\r\n                    </Link>\r\n                </footer>\r\n            </article>\r\n\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\app\\blog\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1208,1211],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1208,1211],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { fetchPosts } from \"@/lib/wp\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\n\r\nexport const revalidate = 60; // Regenerar el blog cada 60s si hay posts nuevos.\r\n\r\nexport default async function BlogPage() {\r\n    const posts = await fetchPosts();\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-zen-bone pt-32 pb-16 px-6\">\r\n            <section className=\"max-w-4xl mx-auto text-center mb-16\">\r\n                <h1 className=\"font-serif text-4xl md:text-5xl text-zen-dark mb-4\">Nook Journal</h1>\r\n                <p className=\"text-zen-sage font-sans font-medium tracking-widest text-sm uppercase\">\r\n                    Cultura, Preparación y Entorno del Té\r\n                </p>\r\n            </section>\r\n\r\n            <section className=\"max-w-5xl mx-auto\">\r\n                {posts.length === 0 ? (\r\n                    <div className=\"text-center py-20 text-zen-sage/60 font-serif text-xl border border-zen-sage/20 rounded-md\">\r\n                        Aún no hay entradas publicadas.\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                        {posts.map((post: any) => {\r\n                            // Extraer media destacada embedida\r\n                            const featuredMedia = post._embedded?.['wp:featuredmedia']?.[0];\r\n\r\n                            // Lógica de fallback inteligente basada en palabras clave del título\r\n                            let imageUrl = featuredMedia?.source_url;\r\n                            if (!imageUrl) {\r\n                                const title = post.title.rendered.toLowerCase();\r\n                                if (title.includes(\"matcha\")) imageUrl = \"https://images.unsplash.com/photo-1582793988951-9aed5509eb97?auto=format&fit=crop&q=80&w=800\";\r\n                                else if (title.includes(\"temperatura\") || title.includes(\"preparación\")) imageUrl = \"https://images.unsplash.com/photo-1556679343-c7306c1976bc?auto=format&fit=crop&q=80&w=800\";\r\n                                else if (title.includes(\"terroir\") || title.includes(\"origen\")) imageUrl = \"https://images.unsplash.com/photo-1597481499750-3e6b22637e12?auto=format&fit=crop&q=80&w=800\";\r\n                                else imageUrl = \"https://images.unsplash.com/photo-1544787210-2213d84ad96b?auto=format&fit=crop&q=80&w=800\";\r\n                            }\r\n\r\n                            // Formateo de fecha Simple\r\n                            const date = new Date(post.date).toLocaleDateString(\"es-ES\", {\r\n                                year: \"numeric\",\r\n                                month: \"long\",\r\n                                day: \"numeric\",\r\n                            });\r\n\r\n                            return (\r\n                                <article key={post.id} className=\"group flex flex-col items-start\">\r\n                                    <Link href={`/blog/${post.slug}`} className=\"w-full relative aspect-[4/3] mb-4 overflow-hidden rounded-md bg-zen-light/50\">\r\n                                        <Image\r\n                                            src={imageUrl}\r\n                                            alt={post.title.rendered}\r\n                                            fill\r\n                                            className=\"object-cover transition-transform duration-700 group-hover:scale-105\"\r\n                                        />\r\n                                    </Link>\r\n                                    <span className=\"text-xs text-zen-sage uppercase tracking-widest font-semibold mb-2\">\r\n                                        {date}\r\n                                    </span>\r\n                                    <Link href={`/blog/${post.slug}`} className=\"hover:text-zen-primary transition-colors\">\r\n                                        <h2\r\n                                            className=\"font-serif text-2xl text-zen-dark leading-tight mb-2\"\r\n                                            dangerouslySetInnerHTML={{ __html: post.title.rendered }}\r\n                                        />\r\n                                    </Link>\r\n                                    <div\r\n                                        className=\"text-sm text-zen-dark/70 font-sans line-clamp-3 leading-relaxed\"\r\n                                        dangerouslySetInnerHTML={{ __html: post.excerpt.rendered }}\r\n                                    />\r\n                                </article>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                )}\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\app\\checkout\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\app\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1319,1322],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1319,1322],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":58,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":58,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2658,2661],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2658,2661],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":72,"column":21,"nodeType":"JSXOpeningElement","endLine":76,"endColumn":23}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { fetchProducts } from '@/lib/woo';\nimport { fetchPosts } from '@/lib/wp';\nimport Hero from '@/components/Hero';\nimport FeaturedCategories from '@/components/FeaturedCategories';\nimport Storytelling from '@/components/Storytelling';\nimport ProductImage from '@/components/ProductImage';\nimport Link from 'next/link';\n\nexport default async function Home() {\n  const products = await fetchProducts();\n  const blogPosts = await fetchPosts();\n  const latestPosts = blogPosts.slice(0, 3);\n\n  return (\n    <main>\n      <Hero />\n      <FeaturedCategories />\n      <Storytelling />\n\n      {/* Latest Products Section */}\n      <section className=\"max-w-7xl mx-auto px-6 py-24\">\n        <div className=\"flex justify-between items-end mb-12\">\n          <div>\n            <span className=\"font-sans text-[10px] uppercase tracking-[0.3em] text-zen-sage mb-2 block\">Selección de Temporada</span>\n            <h2 className=\"font-serif text-3xl text-zen-dark italic\">Novedades en Tienda</h2>\n          </div>\n          <Link href=\"/tienda\" className=\"font-sans text-[10px] uppercase tracking-[0.2em] text-zen-sage hover:text-zen-dark transition-colors border-b border-zen-sage/20 pb-1\">Ver Catálogo</Link>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-12\">\n          {products.slice(0, 3).map((p: any) => (\n            <div key={p.id} className=\"group cursor-pointer\">\n              <div className=\"relative aspect-[4/5] overflow-hidden bg-[#F5F5F0] mb-6\">\n                <ProductImage\n                  src={p.images?.[0]?.src}\n                  alt={p.name}\n                  fill\n                  className=\"object-cover transition-transform duration-700 group-hover:scale-105\"\n                />\n              </div>\n              <h3 className=\"font-serif text-lg text-zen-dark mb-1\">{p.name}</h3>\n              <div className=\"font-sans text-xs text-zen-sage tracking-widest uppercase\" dangerouslySetInnerHTML={{ __html: p.price_html }} />\n            </div>\n          ))}\n        </div>\n      </section>\n\n      {/* Journal / Blog Preview Section */}\n      <section className=\"bg-[#FAF9F6] py-24 border-y border-zen-sage/10\">\n        <div className=\"max-w-7xl mx-auto px-6\">\n          <div className=\"text-center mb-16\">\n            <span className=\"font-sans text-[10px] uppercase tracking-[0.3em] text-zen-sage mb-2 block\">Lectura & Cultura</span>\n            <h2 className=\"font-serif text-4xl text-zen-dark\">Nook Journal</h2>\n            <div className=\"w-12 h-[1px] bg-zen-sage/30 mx-auto mt-6\"></div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-12\">\n            {latestPosts.map((post: any) => {\n              const title = post.title.rendered.toLowerCase();\n              let imageUrl = post._embedded?.['wp:featuredmedia']?.[0]?.source_url;\n\n              if (!imageUrl) {\n                if (title.includes(\"matcha\")) imageUrl = \"https://images.unsplash.com/photo-1582793988951-9aed5509eb97?auto=format&fit=crop&q=80&w=800\";\n                else if (title.includes(\"temperatura\") || title.includes(\"preparación\")) imageUrl = \"https://images.unsplash.com/photo-1556679343-c7306c1976bc?auto=format&fit=crop&q=80&w=800\";\n                else if (title.includes(\"terroir\") || title.includes(\"origen\")) imageUrl = \"https://images.unsplash.com/photo-1597481499750-3e6b22637e12?auto=format&fit=crop&q=80&w=800\";\n                else imageUrl = \"https://images.unsplash.com/photo-1544787210-2213d84ad96b?auto=format&fit=crop&q=80&w=800\";\n              }\n\n              return (\n                <Link href={`/blog/${post.slug}`} key={post.id} className=\"group\">\n                  <div className=\"relative aspect-video overflow-hidden mb-6\">\n                    <img\n                      src={imageUrl}\n                      alt={post.title.rendered}\n                      className=\"object-cover w-full h-full transition-transform duration-700 group-hover:scale-105 grayscale-[20%] group-hover:grayscale-0\"\n                    />\n                  </div>\n                  <h3 className=\"font-serif text-xl text-zen-dark mb-3 leading-snug group-hover:text-zen-sage transition-colors\" dangerouslySetInnerHTML={{ __html: post.title.rendered }} />\n                  <p className=\"font-sans text-xs text-zen-sage/80 line-clamp-2 uppercase tracking-tight leading-loose\" dangerouslySetInnerHTML={{ __html: post.excerpt.rendered.replace(/<[^>]+>/g, '') }} />\n                </Link>\n              );\n            })}\n          </div>\n\n          <div className=\"mt-16 text-center\">\n            <Link href=\"/blog\" className=\"inline-block font-sans text-[10px] uppercase tracking-[0.2em] text-zen-sage hover:text-zen-dark transition-all border border-zen-sage/30 px-8 py-4 hover:bg-zen-sage/5\">Explorar Journal</Link>\n          </div>\n        </div>\n      </section>\n    </main>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\app\\producto\\[slug]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[728,731],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[728,731],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":26,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":26,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1055,1058],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1055,1058],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'imageUrl' is assigned a value but never used.","line":30,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":30,"endColumn":19}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { fetchProductBySlug, fetchProducts } from \"@/lib/woo\";\r\nimport { notFound } from \"next/navigation\";\r\nimport AddToCartButton from \"@/components/AddToCartButton\";\r\nimport ProductGallery from \"@/components/ProductGallery\";\r\nimport ProductAccordion from \"@/components/ProductAccordion\";\r\nimport ProductGrid from \"@/components/ProductGrid\";\r\n\r\nexport const revalidate = 60;\r\n\r\nexport default async function ProductDetailPage({ params }: { params: { slug: string } }) {\r\n    const products = await fetchProductBySlug(params.slug);\r\n\r\n    if (!products || products.length === 0) {\r\n        return notFound();\r\n    }\r\n\r\n    const product = products[0];\r\n\r\n    // Fetch related products (same category)\r\n    let relatedProducts: any[] = [];\r\n    if (product.categories && product.categories.length > 0) {\r\n        const categoryId = product.categories[0].id;\r\n        const allCategoryProducts = await fetchProducts(categoryId);\r\n        // Exclude the current product and limit to 4\r\n        relatedProducts = allCategoryProducts\r\n            .filter((p: any) => p.id !== product.id)\r\n            .slice(0, 4);\r\n    }\r\n\r\n    const imageUrl = product.images.length > 0\r\n        ? product.images[0].src\r\n        : \"https://images.unsplash.com/photo-1579761763131-dae193fb69ee?q=80&w=800&auto=format&fit=crop\";\r\n\r\n    // Strip WordPress HTML tags from the short description\r\n    // In a real app we'd use 'html-react-parser' or similar\r\n    const cleanDescription = product.short_description\r\n        ? product.short_description.replace(/<[^>]*>?/gm, '')\r\n        : \"Una experiencia vibrante y premium para acompañar cada momento de tu día.\";\r\n\r\n    return (\r\n        <>\r\n            <main className=\"relative bg-zen-bone min-h-screen lg:flex lg:flex-row-reverse pb-16 lg:pb-0\">\r\n\r\n                {/* Right Side: Product Details */}\r\n                <div className=\"relative lg:w-1/2 px-8 pt-32 lg:pt-40 lg:px-16 xl:px-24 flex flex-col min-h-[50vh] lg:min-h-screen\">\r\n\r\n                    {/* Title & Price */}\r\n                    <div className=\"mb-10 text-left lg:mt-8\">\r\n                        <h1 className=\"font-serif text-4xl lg:text-5xl mb-4 leading-tight text-zen-dark\">\r\n                            {product.name}\r\n                        </h1>\r\n                        <div className=\"text-zen-sage font-sans font-medium text-xl tracking-wide\" dangerouslySetInnerHTML={{ __html: product.price_html || `€${product.price}` }} />\r\n                    </div>\r\n\r\n                    {/* Poetic Description */}\r\n                    <div className=\"mb-12 max-w-lg\">\r\n                        <p className=\"font-sans font-light leading-relaxed text-zen-dark/80 text-sm italic\">\r\n                            {cleanDescription}\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* CTA Button */}\r\n                    <div className=\"mb-16\">\r\n                        <AddToCartButton product={product} />\r\n                    </div>\r\n\r\n                    {/* Dynamic Accordions */}\r\n                    <div className=\"space-y-0 border-t border-zen-sage/20 mb-12\">\r\n                        <ProductAccordion\r\n                            title=\"Descripción Completa\"\r\n                            content={product.description\r\n                                ? <div dangerouslySetInnerHTML={{ __html: product.description.replace(/style=\"[^\"]*\"/g, \"\") }} className=\"prose prose-sm prose-zen\" />\r\n                                : \"Este producto de especialidad ha sido cuidadosamente seleccionado basándonos en sus perfiles de taza excepcionales y prácticas de cultivo éticas.\"}\r\n                        />\r\n                        <ProductAccordion\r\n                            title=\"Elaboración y Cuidado\"\r\n                            content=\"Para preservar la delicadeza de nuestras hojas y granos, almacénalos en un lugar fresco y alejado de la luz solar directa. Consulta nuestra guía de infusión en la tarjeta adjunta a tu pedido.\"\r\n                        />\r\n                        <ProductAccordion\r\n                            title=\"Envío y Devoluciones\"\r\n                            content=\"Procesamos pedidos en 24-48 horas. Envío estándar en península (2-3 días). Aceptamos devoluciones de productos sin abrir hasta 14 días después de la entrega.\"\r\n                        />\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                {/* Left Side: Dynamic Gallery */}\r\n                <div className=\"w-full lg:w-1/2 -order-1 lg:order-none z-10\">\r\n                    <ProductGallery images={product.images} />\r\n                </div>\r\n\r\n            </main>\r\n\r\n            {/* Productos Relacionados */}\r\n            {\r\n                relatedProducts.length > 0 && (\r\n                    <section className=\"bg-white py-24 border-t border-zen-sage/10\">\r\n                        <div className=\"max-w-7xl mx-auto px-6\">\r\n                            <h2 className=\"font-serif text-3xl text-zen-dark mb-12 text-center\">También podría interesarte</h2>\r\n                            <ProductGrid products={relatedProducts} />\r\n                        </div>\r\n                    </section>\r\n                )\r\n            }\r\n        </>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\app\\tienda\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1042,1045],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1042,1045],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":35,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":35,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1598,1601],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1598,1601],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":41,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1913,1916],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1913,1916],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":44,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2124,2127],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2124,2127],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":45,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2193,2196],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2193,2196],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":52,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2404,2407],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2404,2407],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":52,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":52,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2412,2415],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2412,2415],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":54,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2563,2566],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2563,2566],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":54,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":54,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2571,2574],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2571,2574],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":56,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2718,2721],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2718,2721],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":56,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2726,2729],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2726,2729],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":11,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { fetchProducts, fetchCategories } from \"@/lib/woo\";\r\nimport ProductGrid from \"@/components/ProductGrid\";\r\nimport CategoryFilter from \"@/components/CategoryFilter\";\r\n\r\nexport const revalidate = 60; // Revalidate cache every 60 seconds\r\n\r\nexport default async function TiendaPage({\r\n    searchParams,\r\n}: {\r\n    searchParams: { [key: string]: string | string[] | undefined };\r\n}) {\r\n    // 1. Extraer los parámetros de la URL\r\n    const categorySlug = typeof searchParams.categoria === 'string' && searchParams.categoria !== 'todas'\r\n        ? searchParams.categoria\r\n        : null;\r\n\r\n    // El orden es manejado visualmente a través del componente cliente \r\n    // y aplicaremos la ordenación JS básica antes de pasar al renderizado.\r\n    const sortParam = typeof searchParams.orden === 'string' ? searchParams.orden : 'default';\r\n\r\n    let products: { id: number; name: string; price: string; date_created?: string; images: { id: number; src: string; alt: string }[]; permalink: string; slug: string; }[] = [];\r\n    let categories: any[] = [];\r\n\r\n    // 2. Fetch de datos en paralelo (Categorías y Listado Global)\r\n    try {\r\n        const [productsRes, categoriesRes] = await Promise.all([\r\n            fetchProducts(null),\r\n            fetchCategories()\r\n        ]);\r\n\r\n        console.log(\"TIENDA DEBUG: Products fetched count:\", productsRes?.length || 0);\r\n        console.log(\"TIENDA DEBUG: Categories fetched count:\", categoriesRes?.length || 0);\r\n\r\n        // Filtramos categorías vacías solo si no estamos en modo desarrollo/inicial\r\n        categories = categoriesRes.filter((c: any) => c.slug !== 'uncategorized');\r\n        let baseProducts = productsRes || [];\r\n\r\n        // 3. Filtrar por Categoría manualmente (ya que la API a veces es lenta)\r\n        if (categorySlug) {\r\n            // Buscamos el ID de la categoría pedida en la URL\r\n            const requestedCat = categories.find((c: any) => c.slug === categorySlug);\r\n            if (requestedCat) {\r\n                // Filtramos el array base buscando si el producto tiene esa categoría\r\n                baseProducts = baseProducts.filter((p: any) =>\r\n                    p.categories && p.categories.some((cat: any) => cat.id === requestedCat.id)\r\n                );\r\n            }\r\n        }\r\n\r\n        // 4. Ordenación basada en el sort param\r\n        if (sortParam === 'price_asc') {\r\n            baseProducts.sort((a: any, b: any) => parseFloat(a.price || '0') - parseFloat(b.price || '0'));\r\n        } else if (sortParam === 'price_desc') {\r\n            baseProducts.sort((a: any, b: any) => parseFloat(b.price || '0') - parseFloat(a.price || '0'));\r\n        } else if (sortParam === 'newest') {\r\n            baseProducts.sort((a: any, b: any) => {\r\n                const dateA = a.date_created ? new Date(a.date_created).getTime() : 0;\r\n                const dateB = b.date_created ? new Date(b.date_created).getTime() : 0;\r\n                return dateB - dateA;\r\n            });\r\n        }\r\n\r\n        products = baseProducts;\r\n\r\n    } catch (error) {\r\n        console.error(\"Error fetching data for Tienda:\", error);\r\n    }\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-zen-bone pt-32 pb-16\">\r\n\r\n            {/* Editorial Header */}\r\n            <section className=\"px-6 pb-20 text-center max-w-4xl mx-auto\">\r\n                <h1 className=\"font-serif text-4xl md:text-5xl lg:text-6xl text-zen-dark mb-6\">Nuestra Colección</h1>\r\n                <p className=\"text-zen-sage text-sm uppercase tracking-[0.2em] font-medium font-sans max-w-lg mx-auto leading-relaxed\">\r\n                    Calidad Premium Artesanal para elevar cada uno de tus rituales diarios.\r\n                </p>\r\n            </section>\r\n\r\n            {/* Layout Principal: Sidebar Izquierdo + Grilla de Productos Derecha */}\r\n            <section className=\"px-6 mb-12 max-w-7xl mx-auto\">\r\n                <div className=\"flex flex-col md:flex-row gap-8 items-start\">\r\n\r\n                    {/* Sidebar Categorías (25% ancho en Desktop) */}\r\n                    <aside className=\"w-full md:w-1/4 flex-shrink-0 sticky top-24\">\r\n                        <CategoryFilter categories={categories} />\r\n                    </aside>\r\n\r\n                    {/* Grilla de Resultados (75% ancho en Desktop) */}\r\n                    <div className=\"w-full md:w-3/4\">\r\n                        {products.length > 0 ? (\r\n                            <ProductGrid products={products} />\r\n                        ) : (\r\n                            <div className=\"w-full h-64 flex flex-col items-center justify-center bg-zen-light/30 border border-zen-sage/20 rounded-md\">\r\n                                <p className=\"text-zen-sage font-serif text-xl\">No hay productos en esta categoría aún.</p>\r\n                                <p className=\"text-sm font-sans text-zen-dark/60 mt-2\">Prueba seleccionando otra familia de productos.</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                </div>\r\n            </section>\r\n\r\n        </main>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\AddToCartButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\CartDrawer.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\CartDrawer.tsx:14:9\n  12 |     // Prevent hydration errors by only rendering on client\n  13 |     useEffect(() => {\n> 14 |         setIsMounted(true);\n     |         ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  15 |     }, []);\n  16 |\n  17 |     if (!isMounted) return null;","line":14,"column":9,"nodeType":null,"endLine":14,"endColumn":21}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useCartStore } from \"@/store/cart\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport ProductImage from \"@/components/ProductImage\"; // <-- New import\r\n\r\nexport default function CartDrawer() {\r\n    const { items, isOpen, toggleCart, updateQuantity, removeItem, cartTotal } = useCartStore();\r\n    const [isMounted, setIsMounted] = useState(false);\r\n\r\n    // Prevent hydration errors by only rendering on client\r\n    useEffect(() => {\r\n        setIsMounted(true);\r\n    }, []);\r\n\r\n    if (!isMounted) return null;\r\n\r\n    return (\r\n        <>\r\n            {/* Backdrop overlay */}\r\n            {isOpen && (\r\n                <div\r\n                    className=\"fixed inset-0 bg-black/40 backdrop-blur-sm z-50 transition-opacity\"\r\n                    onClick={toggleCart}\r\n                />\r\n            )}\r\n\r\n            {/* Slide-out panel */}\r\n            <div\r\n                className={`fixed inset-y-0 right-0 z-50 w-full md:w-[450px] bg-[#FAF9F6] shadow-2xl transform transition-transform duration-500 ease-in-out flex flex-col ${isOpen ? \"translate-x-0\" : \"translate-x-full\"\r\n                    }`}\r\n            >\r\n                {/* Header */}\r\n                <div className=\"flex items-center justify-between px-8 py-6 border-b border-zen-sage/10\">\r\n                    <h2 className=\"font-serif text-3xl font-medium text-zen-dark tracking-tight\">Tu Ritual</h2>\r\n                    <button\r\n                        onClick={toggleCart}\r\n                        className=\"p-2 text-zen-sage hover:text-zen-dark transition-colors rounded-full hover:bg-zen-sage/5\"\r\n                    >\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M6 18L18 6M6 6l12 12\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Cart Items */}\r\n                <div className=\"flex-1 overflow-y-auto px-8 py-6 space-y-8\">\r\n                    {items.length === 0 ? (\r\n                        <div className=\"h-full flex flex-col items-center justify-center text-center opacity-70\">\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-16 w-16 mb-4 text-zen-sage/60\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={0.5} d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\" />\r\n                            </svg>\r\n                            <p className=\"font-sans text-xs tracking-[0.2em] uppercase text-zen-dark mb-6\">Tu carrito está vacío</p>\r\n                            <button onClick={toggleCart} className=\"text-zen-sage border-b border-zen-sage pb-1 text-sm hover:text-zen-dark hover:border-zen-dark transition-colors\">Descubrir té</button>\r\n                        </div>\r\n                    ) : (\r\n                        items.map((item) => (\r\n                            <div key={item.id} className=\"flex gap-6 items-center group\">\r\n                                {/* Product Image using new component */}\r\n                                <div className=\"relative w-24 h-28 bg-zen-sage/5 rounded-sm overflow-hidden flex-shrink-0 border border-zen-sage/10 group-hover:border-zen-sage/30 transition-colors\">\r\n                                    <ProductImage\r\n                                        src={item.image}\r\n                                        alt={item.name}\r\n                                        fill\r\n                                        className=\"transition-transform duration-700 group-hover:scale-105\"\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Details */}\r\n                                <div className=\"flex-1 flex flex-col py-1\">\r\n                                    <h3 className=\"font-serif text-lg text-zen-dark leading-tight\">{item.name}</h3>\r\n                                    <p className=\"text-zen-sage font-sans flex-1 text-sm mt-1\">€{item.price.toFixed(2)}</p>\r\n\r\n                                    {/* Quantity Controls & Remove */}\r\n                                    <div className=\"flex items-center justify-between mt-4\">\r\n                                        <div className=\"flex items-center border border-zen-sage/20 rounded-sm\">\r\n                                            <button\r\n                                                onClick={() => updateQuantity(item.id, Math.max(0, item.quantity - 1))}\r\n                                                className=\"text-zen-sage hover:text-zen-dark hover:bg-zen-sage/5 px-3 py-1 font-sans text-lg transition-colors\"\r\n                                            >-</button>\r\n                                            <span className=\"text-xs font-sans font-medium text-zen-dark w-4 text-center\">{item.quantity}</span>\r\n                                            <button\r\n                                                onClick={() => updateQuantity(item.id, item.quantity + 1)}\r\n                                                className=\"text-zen-sage hover:text-zen-dark hover:bg-zen-sage/5 px-3 py-1 font-sans text-lg transition-colors\"\r\n                                            >+</button>\r\n                                        </div>\r\n                                        <button\r\n                                            onClick={() => removeItem(item.id)}\r\n                                            className=\"text-[10px] uppercase tracking-widest text-zen-sage/60 hover:text-red-500 transition-colors\"\r\n                                        >\r\n                                            Quitar\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    )}\r\n                </div>\r\n\r\n                {/* Footer / Checkout */}\r\n                {items.length > 0 && (\r\n                    <div className=\"border-t border-zen-sage/10 p-8 bg-white/50 backdrop-blur-sm\">\r\n                        <div className=\"flex justify-between items-center mb-8\">\r\n                            <span className=\"font-sans text-xs tracking-[0.2em] uppercase text-zen-dark/60 font-medium\">Subtotal</span>\r\n                            <span className=\"font-serif text-3xl text-zen-dark tracking-tight\">€{cartTotal().toFixed(2)}</span>\r\n                        </div>\r\n                        <Link\r\n                            href=\"/checkout\"\r\n                            onClick={toggleCart}\r\n                            className=\"block w-full text-center bg-zen-dark text-white py-5 rounded-sm tracking-[0.2em] text-xs font-light hover:bg-zen-sage transition-all shadow-xl uppercase\"\r\n                        >\r\n                            Completar Pedido\r\n                        </Link>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\CategoryFilter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\CategoryFilterClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\FeaturedCategories.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\Hero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\ProductAccordion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\ProductGallery.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\ProductGrid.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Image' is defined but never used.","line":3,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":13,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Image"},"fix":{"range":[17,50],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setImgSrc' is assigned a value but never used.","line":19,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":29},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":27,"column":9,"nodeType":"JSXOpeningElement","endLine":37,"endColumn":11}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport Image from 'next/image';\r\nimport Link from 'next/link';\r\nimport { useState } from 'react';\r\n\r\n// Using a simplified interface for the component props\r\ninterface WooCommerceProduct {\r\n    id: number;\r\n    name: string;\r\n    price: string;\r\n    images: { id: number; src: string; alt: string }[];\r\n    permalink: string;\r\n    slug: string;\r\n}\r\n\r\n// Internal component to handle individual product images with fallback\r\nfunction ProductImage({ src, alt }: { src: string; alt: string }) {\r\n    const [imgSrc, setImgSrc] = useState(src);\r\n    const [hasError, setHasError] = useState(false);\r\n\r\n    // Reliable fallback: A nice nature/tea related image from Picsum\r\n    // Using a specific ID to ensure it's not blocked and looks professional\r\n    const fallbackUrl = \"https://picsum.photos/seed/nook-tea/800/1067\";\r\n\r\n    return (\r\n        <img\r\n            src={hasError ? fallbackUrl : imgSrc}\r\n            alt={alt}\r\n            className={`w-full h-full object-cover transition-all duration-700 group-hover:scale-105 ${hasError ? 'opacity-90 contrast-90' : ''}`}\r\n            loading=\"lazy\"\r\n            onError={() => {\r\n                if (!hasError) {\r\n                    setHasError(true);\r\n                }\r\n            }}\r\n        />\r\n    );\r\n}\r\n\r\nexport default function ProductGrid({ products }: { products: WooCommerceProduct[] }) {\r\n    if (!products || products.length === 0) {\r\n        return <div className=\"text-center py-24 text-zen-sage font-sans text-sm tracking-widest uppercase\">No hay productos disponibles.</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-12 px-6 max-w-7xl mx-auto mb-24\">\r\n            {products.map((product) => {\r\n                const initialImageUrl = product.images && product.images.length > 0\r\n                    ? product.images[0].src\r\n                    : \"https://picsum.photos/seed/placeholder/800/1067\"; // Initial fallback if no image at all\r\n\r\n                return (\r\n                    <div key={product.id} className=\"group flex flex-col gap-4\">\r\n                        <Link href={`/producto/${product.slug}`} className=\"relative aspect-[3/4] overflow-hidden bg-zen-bone/40 block border border-zen-sage/5\">\r\n                            <ProductImage src={initialImageUrl} alt={product.name} />\r\n\r\n                            <div className=\"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors duration-500\" />\r\n\r\n                            <button className=\"absolute bottom-4 right-4 bg-white/95 backdrop-blur-sm p-2 rounded-none opacity-0 translate-y-2 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300 flex items-center justify-center border border-zen-sage/20 text-zen-dark hover:bg-zen-sage hover:text-white shadow-sm\">\r\n                                <span className=\"font-sans text-[10px] tracking-[0.2em] uppercase px-3 py-1 font-medium\">Ver Detalle</span>\r\n                            </button>\r\n                        </Link>\r\n\r\n                        <div className=\"flex flex-col gap-1 items-center text-center mt-2 px-1\">\r\n                            <Link href={`/producto/${product.slug}`}>\r\n                                <h3 className=\"font-serif text-base text-zen-dark group-hover:text-zen-sage transition-colors line-clamp-2\">\r\n                                    {product.name}\r\n                                </h3>\r\n                            </Link>\r\n                            <p className=\"text-zen-sage text-sm font-sans font-medium tracking-wide\">\r\n                                {product.price ? `${parseFloat(product.price).toFixed(2)}€` : 'Consultar'}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\ProductImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\components\\Storytelling.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\lib\\woo.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[256,259],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[256,259],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":21,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[690,693],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[690,693],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":42,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1511,1514],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1511,1514],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import WooCommerceRestApi from \"@woocommerce/woocommerce-rest-api\";\r\n\r\n// Helper to get sanitized env variables\r\nconst getEnv = (key: string, fallback: string = \"\"): string => {\r\n    return (process.env[key] || fallback).trim();\r\n};\r\n\r\nlet wooApiInstance: any = null;\r\n\r\nfunction getWooApi() {\r\n    if (wooApiInstance) return wooApiInstance;\r\n\r\n    const url = getEnv(\"NEXT_PUBLIC_WC_URL\");\r\n    const consumerKey = getEnv(\"WC_CONSUMER_KEY\");\r\n    const consumerSecret = getEnv(\"WC_CONSUMER_SECRET\");\r\n\r\n    if (!url || !consumerKey || !consumerSecret) {\r\n        console.warn(\"WooCommerce API credentials missing or incomplete.\");\r\n    }\r\n\r\n    wooApiInstance = new (WooCommerceRestApi as any)({\r\n        url: url || \"https://fallback.test\",\r\n        consumerKey: consumerKey || \"fallback_key\",\r\n        consumerSecret: consumerSecret || \"fallback_secret\",\r\n        version: \"wc/v3\",\r\n        queryStringAuth: true\r\n    });\r\n\r\n    return wooApiInstance;\r\n}\r\n\r\nexport async function fetchProducts(category = null) {\r\n    try {\r\n        const api = getWooApi();\r\n        const params: Record<string, string | number> = { per_page: 100, status: 'publish' };\r\n        if (category) params.category = category as string;\r\n\r\n        console.log(`WOO DEBUG: Fetching products from ${getEnv(\"NEXT_PUBLIC_WC_URL\")}...`);\r\n        const response = await api.get(\"products\", params);\r\n        console.log(`WOO DEBUG: Success! Found ${response.data.length} products.`);\r\n        return response.data;\r\n    } catch (error: any) {\r\n        console.error(\"WOO DEBUG: Error fetching products:\");\r\n        if (error.response) {\r\n            console.error(\"- Status:\", error.response.status);\r\n            console.error(\"- Data:\", JSON.stringify(error.response.data));\r\n        } else {\r\n            console.error(\"- Message:\", error.message);\r\n        }\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function fetchCategories() {\r\n    try {\r\n        const api = getWooApi();\r\n        const response = await api.get(\"products/categories\", { per_page: 100 });\r\n        return response.data;\r\n    } catch (error: unknown) {\r\n        console.error(\"Error fetching WooCommerce categories:\", error instanceof Error ? error.message : error);\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function fetchProductBySlug(slug: string) {\r\n    try {\r\n        const api = getWooApi();\r\n        const response = await api.get(\"products\", { slug });\r\n        return response.data;\r\n    } catch (error: unknown) {\r\n        console.error(`Error fetching WooCommerce product ${slug}:`, error instanceof Error ? error.message : error);\r\n        return [];\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\lib\\wp.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Maste\\.gemini\\antigravity\\scratch\\Habilidades de Agentes\\nook-storefront\\src\\store\\cart.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]